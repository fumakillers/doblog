(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{431:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),s=a(34),o=a(14),l=a(27),j=a(28),b=a(4),d=a(119),h=a(74),p=a(73),u=a(485),x=a(516),m=a(488),O=a(489),g=a(518),f=a(514),y=a(490),v=a(491),w=a(494),N=a(48),C=a(493),S=a(498),k=a(111),I=a.n(k),P=a(112),D=a.n(P),E=a(492),T=a(113),B=a.n(T),R=a(114),F=a.n(R),L=a(115),z=a.n(L),M=a(116),W=a.n(M),q=a(117),A=a.n(q),H=a(495),U=a(496),G=a(497),J=a(2),Y=Object(d.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue","sans-serif"].join(",")},palette:{primary:{main:h.a[800]},secondary:{main:p.a[600]},type:"dark"}}),K=Object(u.a)((function(e){return Object(x.a)({root:{display:"flex",fontSize:"14px"},toolbar:{paddingRight:24},toolbarIcon:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:160,width:"calc(100% - ".concat(160,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:24,marginLeft:-19,fontSize:"1rem"},menuButtonHidden:{display:"none"},title:{flexGrow:1,fontSize:"22px"},pageTitle:{marginBottom:e.spacing(3)},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:160,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:"56px"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto",maxWidth:"100%"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},link:{textDecoration:"none",color:"#ededed"},iconRoot:{minWidth:"40px"},menuFont:{fontSize:"1rem"}})})),V=function(){return Object(J.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(J.jsx)(s.b,{color:"inherit",to:"/",children:"\u7ba1\u7406\u753b\u9762"})," ",(new Date).getFullYear(),"."]})},X=function(e){var t=e.children,a=e.title,n=K(),i=r.a.useState(!0),c=Object(l.a)(i,2),o=c[0],j=c[1];return Object(J.jsx)(m.a,{theme:Y,children:Object(J.jsxs)("div",{className:n.root,children:[Object(J.jsx)(O.a,{}),Object(J.jsx)(y.a,{position:"absolute",className:Object(b.a)(n.appBar,o&&n.appBarShift),children:Object(J.jsxs)(v.a,{className:n.toolbar,children:[Object(J.jsx)(E.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){j(!0)},className:Object(b.a)(n.menuButton,o&&n.menuButtonHidden),children:Object(J.jsx)(I.a,{})}),Object(J.jsx)(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:"Management Console"})]})}),Object(J.jsxs)(g.a,{variant:"permanent",classes:{paper:Object(b.a)(n.drawerPaper,!o&&n.drawerPaperClose)},open:o,children:[Object(J.jsx)("div",{className:n.toolbarIcon,children:Object(J.jsx)(E.a,{onClick:function(){j(!1)},children:Object(J.jsx)(D.a,{})})}),Object(J.jsx)(C.a,{}),Object(J.jsxs)(w.a,{className:n.menuFont,children:[Object(J.jsx)(s.b,{to:"/blog/dobmin/manager/",className:n.link,children:Object(J.jsxs)(H.a,{button:!0,children:[Object(J.jsx)(U.a,{className:n.iconRoot,children:Object(J.jsx)(B.a,{})}),Object(J.jsx)(G.a,{primary:"Top"})]})}),Object(J.jsx)(s.b,{to:"/blog/dobmin/manager/entries",className:n.link,children:Object(J.jsxs)(H.a,{button:!0,children:[Object(J.jsx)(U.a,{className:n.iconRoot,children:Object(J.jsx)(F.a,{})}),Object(J.jsx)(G.a,{primary:"Entries"})]})}),Object(J.jsx)(s.b,{to:"/blog/dobmin/manager/entries/add",className:n.link,children:Object(J.jsxs)(H.a,{button:!0,children:[Object(J.jsx)(U.a,{className:n.iconRoot,children:Object(J.jsx)(z.a,{})}),Object(J.jsx)(G.a,{primary:"Add Entry"})]})}),Object(J.jsx)(s.b,{to:"/blog/dobmin/manager/images",className:n.link,children:Object(J.jsxs)(H.a,{button:!0,children:[Object(J.jsx)(U.a,{className:n.iconRoot,children:Object(J.jsx)(W.a,{})}),Object(J.jsx)(G.a,{primary:"Images"})]})}),Object(J.jsx)(s.b,{to:"/blog/dobmin/manager/logout",className:n.link,children:Object(J.jsxs)(H.a,{button:!0,children:[Object(J.jsx)(U.a,{className:n.iconRoot,children:Object(J.jsx)(A.a,{})}),Object(J.jsx)(G.a,{primary:"Logout"})]})})]})]}),Object(J.jsxs)("main",{className:n.content,children:[Object(J.jsx)("div",{className:n.appBarSpacer}),Object(J.jsxs)(S.a,{maxWidth:!1,className:n.container,children:[Object(J.jsx)(N.a,{component:"h2",variant:"h5",color:"inherit",noWrap:!0,className:n.pageTitle,children:a}),t,Object(J.jsx)(f.a,{pt:4,children:Object(J.jsx)(V,{})})]})]})]})})},Q=function(){return Object(J.jsx)(X,{title:"Home",children:Object(J.jsxs)("div",{children:["Home",Object(J.jsx)("br",{})]})})},Z=a(53),$=a.n(Z),_=a(69),ee=a(70),te=a.n(ee),ae=a(5),ne=a(508),re=a(510),ie=a(505),ce=a(507),se=a(509),oe=a(506),le=a(122),je=a(504),be=a(499),de=a(503),he=a(501),pe=a(502),ue=a(500),xe=function(e){var t=e.isOpen,a=e.title,r=e.message,i=Object(n.useState)(!1),c=Object(l.a)(i,2),s=c[0],o=c[1];Object(n.useEffect)((function(){o(t)}),[t]);var j=function(){o(!1)};return Object(J.jsxs)(be.a,{open:s,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(J.jsx)(ue.a,{id:"alert-dialog-title",children:a}),Object(J.jsx)(he.a,{children:Object(J.jsx)(pe.a,{id:"alert-dialog-description",children:r})}),Object(J.jsx)(de.a,{children:Object(J.jsx)(je.a,{onClick:j,color:"default",autoFocus:!0,children:"OK"})})]})},me=function(){var e=Object(n.useState)({entries:[]}),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({isOpen:!1,title:"error",message:""}),c=Object(l.a)(i,2),s=c[0],o=c[1],j=function(){var e=Object(_.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.a.get("/blog/dobmin/manager/api/getAllEntries");case 3:t=e.sent,r(t.data),e.next=15;break;case 7:if(e.prev=7,e.t0=e.catch(0),r({entries:[]}),console.log(e.t0.response.status),401!==e.t0.response.status){e.next=14;break}return window.location.href="/blog/dobmin/",e.abrupt("return");case 14:o({isOpen:!0,title:"Error",message:e.t0.response.status+" "+e.t0.response.statusText});case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j()}),[]);var b=Object(ae.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white}}}))(ie.a),d=Object(ae.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.selected},"&:hover":{backgroundColor:"#1d57b1"}}}}))(oe.a),h=Object(u.a)({table:{minWidth:700},publishDate:{whiteSpace:"nowrap"},published:{color:"#0f0",whiteSpace:"nowrap"},notPublished:{color:"#f00",whiteSpace:"nowrap"}})();return Object(J.jsxs)(X,{title:"Entries",children:[Object(J.jsx)(ce.a,{component:le.a,children:Object(J.jsxs)(ne.a,{className:h.table,"aria-label":"customized table",children:[Object(J.jsx)(se.a,{children:Object(J.jsxs)(oe.a,{children:[Object(J.jsx)(b,{children:"ID"}),Object(J.jsx)(b,{children:"\u516c\u958b\u65e5"}),Object(J.jsx)(b,{children:"Title"}),Object(J.jsx)(b,{children:"Entry Code"}),Object(J.jsx)(b,{children:"Category"}),Object(J.jsx)(b,{children:"\u72b6\u614b"})]})}),Object(J.jsx)(re.a,{children:a.entries.map((function(e){return Object(J.jsxs)(d,{onClick:function(){return window.location.href="/entries/edit/"+e.entryId},children:[Object(J.jsx)(b,{children:e.entryId}),Object(J.jsx)(b,{className:h.publishDate,children:e.publishDate}),Object(J.jsx)(b,{children:e.title}),Object(J.jsx)(b,{children:e.entryCode}),Object(J.jsx)(b,{children:e.category.join(", ")}),Object(J.jsx)(b,{className:1===e.isPublished?h.published:h.notPublished,children:1===e.isPublished?"\u516c\u958b\u4e2d":"\u975e\u516c\u958b"})]},e.id)}))})]})}),Object(J.jsx)(xe,{isOpen:s.isOpen,title:s.title,message:s.message})]})},Oe=a(55),ge=a(511),fe=a(513),ye=a(512),ve=a(515),we=a(517),Ne=a(118),Ce=a.n(Ne),Se=a(75),ke=a.n(Se),Ie=(a(219),a(86)),Pe=a.n(Ie),De=(a(430),Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:"5px 5px"},withoutLabel:{marginTop:e.spacing(1)},textField:{width:"20ch"},w100:{width:"100%"},buttonArea:{margin:"20px auto 20px auto"},horizontalMargin:{margin:"0 10px 0 10px"},mdeRoot:{width:"100%",margin:e.spacing(1),zIndex:9999},labelStyle:{color:"rgba(255, 255, 255, 0.7)"}}}))),Ee=function(){var e=new Date;return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)};ke.a.use(Se.Plugins.TabInsert,{tabMapValue:1});var Te=new Ce.a({html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&Pe.a.getLanguage(t))try{return Pe.a.highlight(t,e).value}catch(a){}return""}}),Be=function(){var e=De(),t=Object(n.useState)({entryId:0,title:"",publishDate:Ee(),isPublished:1,entryCode:"",category:"",authorId:1,content:""}),a=Object(l.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({title:!1,publishDate:!1,entryCode:!1,content:!1,category:!1}),s=Object(l.a)(c,2),o=s[0],b=s[1],d=Object(n.useState)({isOpen:!1,title:"error",message:""}),h=Object(l.a)(d,2),p=h[0],u=h[1],x=function(e){return function(t){"radio"===t.target.type?i(Object(j.a)(Object(j.a)({},r),{},Object(Oe.a)({},e,parseInt(t.target.value)))):i(Object(j.a)(Object(j.a)({},r),{},Object(Oe.a)({},e,t.target.value)))}},m=function(){var e=Object(_.a)($.a.mark((function e(t){var a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("image",t),e.next=5,te.a.post("/blog/dobmin/manager/api/uploadImage",a,{headers:{"Content-Type":"multipart/form-data"}});case 5:return n=e.sent,e.abrupt("return",new Promise((function(e){e(n.data.filePath)})));case 9:e.prev=9,e.t0=e.catch(0),u({isOpen:!0,title:"Error",message:e.t0.response.status+" "+e.t0.response.statusText});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(J.jsxs)(X,{title:"Add Entry",children:[Object(J.jsxs)("div",{className:e.root,children:[Object(J.jsxs)(ge.a,{container:!0,className:e.margin,children:[Object(J.jsx)(ge.a,{item:!0,xs:6,children:Object(J.jsx)(fe.a,{id:"publishDate",required:!0,label:"Publish Date",type:"date",value:r.publishDate,onChange:x("publishDate"),className:e.textField,InputLabelProps:{shrink:!0},error:o.publishDate,helperText:o.publishDate?"Empty!":" "})}),Object(J.jsxs)(ge.a,{item:!0,xs:6,children:[Object(J.jsx)("label",{className:e.labelStyle,children:"Status"}),Object(J.jsxs)(we.a,{row:!0,required:!0,"aria-label":"isPublished",name:"isPublished",value:r.isPublished,onChange:x("isPublished"),children:[Object(J.jsx)(ye.a,{value:1,control:Object(J.jsx)(ve.a,{color:"primary",required:!0}),label:"\u516c\u958b"}),Object(J.jsx)(ye.a,{value:0,control:Object(J.jsx)(ve.a,{color:"secondary",required:!0}),label:"\u975e\u516c\u958b"})]})]})]}),Object(J.jsx)(ge.a,{container:!0,className:e.margin,children:Object(J.jsx)(ge.a,{item:!0,xs:12,children:Object(J.jsx)(fe.a,{id:"title",required:!0,label:"Title",type:"text",value:r.title,onChange:x("title"),inputProps:{maxLength:100},error:o.title,helperText:o.title?"Empty!":" ",className:e.w100})})}),Object(J.jsx)(ge.a,{container:!0,className:e.margin,children:Object(J.jsx)(ge.a,{item:!0,xs:12,children:Object(J.jsx)(fe.a,{id:"entryCode",required:!0,label:"Entry Code",value:r.entryCode,onChange:x("entryCode"),inputProps:{maxLength:100},error:o.entryCode,helperText:o.entryCode?"empty!":" ",className:e.w100})})}),Object(J.jsx)(ge.a,{container:!0,className:e.margin,children:Object(J.jsx)(ge.a,{item:!0,xs:12,children:Object(J.jsx)(fe.a,{id:"category",label:"Category",value:r.category,onChange:x("category"),inputProps:{maxLength:255},error:o.category,helperText:o.category?"empty!":" "})})}),Object(J.jsxs)("div",{className:e.mdeRoot,children:[Object(J.jsx)("label",{className:e.labelStyle,children:"Content"}),Object(J.jsx)(ke.a,{style:{height:"600px"},renderHTML:function(e){return Te.render(e)},onChange:function(e){var t=e.text;e.html;i(Object(j.a)(Object(j.a)({},r),{},{content:t}))},onImageUpload:m,fullScreen:!1,config:{view:{menu:!0,md:!0,html:!0},hideMenu:!0,table:{maxRow:5,maxCol:6},syncScrollMode:["leftFollowRight","rightFollowLeft"],imageAccept:".jpg,.png"}})]}),Object(J.jsxs)("div",{className:e.buttonArea,children:[Object(J.jsx)(je.a,{variant:"contained",color:"primary",className:e.horizontalMargin,onClick:function(){b(Object(j.a)(Object(j.a)({},o),{},{title:!0}))},children:"Register"}),Object(J.jsx)(je.a,{variant:"contained",color:"default",className:e.horizontalMargin,children:"Clear"})]})]}),Object(J.jsx)(xe,{isOpen:p.isOpen,title:p.title,message:p.message})]})},Re=function(e){return Object(J.jsx)(X,{title:"Edit Entry",children:Object(J.jsxs)("div",{children:["edit",Object(J.jsx)("br",{})," ","/blog/dobmin/manager/"]})})},Fe=function(){return Object(J.jsx)(X,{title:"Images",children:Object(J.jsxs)("div",{children:["images",Object(J.jsx)("br",{})]})})},Le=function(){return Object(J.jsx)(X,{title:"Logout",children:Object(J.jsxs)("div",{children:["logout",Object(J.jsx)("br",{})]})})},ze=function(){return Object(J.jsx)(s.a,{children:Object(J.jsxs)(o.c,{children:[Object(J.jsx)(o.a,{path:"/blog/dobmin/manager/",component:Q,exact:!0}),Object(J.jsx)(o.a,{path:"/blog/dobmin/manager/entries",component:me,exact:!0}),Object(J.jsx)(o.a,{path:"/blog/dobmin/manager/entries/add",component:Be,exact:!0}),Object(J.jsx)(o.a,{path:"/blog/dobmin/manager/entries/edit/:entryId",component:Re,exact:!0}),Object(J.jsx)(o.a,{path:"/blog/dobmin/manager/images",component:Fe,exact:!0}),Object(J.jsx)(o.a,{path:"/blog/dobmin/manager/logout",component:Le,exact:!0})]})})};c.a.render(Object(J.jsx)(ze,{}),document.getElementById("root"))}},[[431,1,2]]]);
//# sourceMappingURL=main.b7906dcd.chunk.js.map